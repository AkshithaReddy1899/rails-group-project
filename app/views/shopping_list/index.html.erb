<section class="mt-5">
   <h2 class="text-center mb-5 text-secondary">Shopping List</h2>
  <% if user_signed_in? %>
    <div class="d-flex flex-row justify-content-evenly mb-5">
      <% @recipe.each do |recipe| %>
        <% @total += @recipe.total(recipe.id) %>
          <h3 class="text-secondary">Amounts of items to buy: <%= @recipe_foods.where(recipe_id: recipe.id).count %> </h3>
          <h3 class="text-secondary">Total price: $<%= @total %> </h3>
      <% end %>
    </div>
  <table class="table">
    <thead>
      <tr>
          <th>Food</th>
          <th>Quantity</th>
          <th>Price</th>
      </tr>
    </thead>
    <tbody>
       <% @recipe_foods.each do |f| %>
        <% if @foods.include?(f.food)%>
        <tr class="active-row">
          <td><%= f.food.name%></td>
          <td><%= f.quantity %> <%= f.food.measurement_unit %></td>
          <td> $<%= f.food.price * f.quantity %></td>
        </tr>
        <% end %>
       <% end %>
    </tbody>
  </table>
  <% end %>
</section><%console%>